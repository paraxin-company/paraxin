{% extends 'base.html'%}

{% block title %}paraxin | نمونه کار پاراکسین{% endblock %}
{% block keyword %}{% endblock %}
{% block desc %}{% endblock %}
{% block sample %}active{% endblock %}

{% block content%}
<div class="my-5">
    <div class=" mb-5">
        <h1 class="font-tit text-xl">نمونه کار ها</h1>
        {% if search_text %}
            <p>نتایج مربوط به جست‌وجوی ( {{search_text}} )</p>
        {% endif %}
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2">
        <div class="scroll-m-4">
            <form action="">
                <div class="mt-3">
                    {% if search_text %}
                        <div class="lg:w-10/12 m-auto">
                            <label class="block text-sm font-medium leading-6 text-gray-900" for="search">جست‌وجو</label>
                            <div class="relative">
                                <input class="simple-input px-3 pl-9 py-2" id="search" name="search" placeholder="search" required type="search" value="{{search_text}}">
                                <div class="absolute left-2 top-3 text-gray-400 hover:cursor-pointer">
                                    <button type="submit">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    {% else %}
                        <div class="lg:w-10/12 m-auto">
                            <label class="block text-sm font-medium leading-6 text-gray-900" for="search">جست‌وجو</label>
                            <div class="relative">
                                <input class="simple-input px-3 pl-9 py-2" id="search" name="search" placeholder="search" required type="search" value="">
                                <div class="absolute left-2 top-3 text-gray-400 hover:cursor-pointer">
                                    <button type="submit">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                </div>
            </form>
        </div>
        <div class="col-span-2">
            <div class="grid gird-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
                {% if sample.total %}
                    {% for item in sample %}
                    <div class="box">
                        <a class="h-full flex flex-col justify-between" href="{{url_for('work_sample_detail', id=item.id)}}">
                            <img class="w-full h-full" src="{{url_for('static', filename=item.baner)}}" alt="{{item.title}}">
                            <div class="py-2 px-4">
                                <hr class="mb-2 border border-gray-300">
                                <p>{{item.title}}</p>
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                {% else %}
                    <div class="col-span-3 alert alert-danger">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
                        </svg>
                        <p>محتوایی برای ( {{search_text}} ) پیدا نشد</p>
                    </div>
                {% endif %}
            </div>
            <div class="my-10 flex justify-center items-center">
                <ul class="pagination">
                    {% if sample.has_prev %}
                        <li class="pagination-control">
                            <a href="{{url_for('work_sample', page=sample.page-1, search=search_text)}}" aria-label="Previous">
                                <span>&laquo;</span>
                            </a>
                        </li>
                    {% else %}
                        <li class="pagination-control pagination-disable">
                            <span>&laquo;</span>
                        </li>
                    {% endif %}
                    
                    {% for page in sample.iter_pages() %}
                        {% if page != sample.page %}
                            <li class="pagination-item"><a href="{{url_for('work_sample', page=page, search=search_text)}}">{{page}}</a></li> 
                        {% else %}
                            <li class="pagination-item pagination-here"><a href="{{url_for('work_sample', page=page, search=search_text)}}">{{page}}</a></li>
                        {% endif %}
                    {% endfor %}
                    
                    {% if sample.has_next %}
                        <li class="pagination-control">
                            <a href="{{url_for('work_sample', page=sample.page+1, search=search_text)}}">
                                <span>&raquo;</span>
                            </a>
                        </li>
                    {% else %}
                        <li class="pagination-control pagination-disable">
                            <span>&raquo;</span>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}